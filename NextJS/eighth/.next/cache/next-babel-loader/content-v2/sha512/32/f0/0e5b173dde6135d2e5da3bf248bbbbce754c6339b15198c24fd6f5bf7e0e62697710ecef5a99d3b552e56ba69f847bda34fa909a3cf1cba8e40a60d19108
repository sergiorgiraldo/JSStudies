{"ast":null,"code":"import { getAllSignup, insertSignup } from \"../../../helpers/api-util\";\n\nasync function handler(req, res) {\n  if (req.method == \"POST\") {\n    const email = req.body.email;\n    const signup = {\n      dt: new Date().toISOString(),\n      email: email\n    };\n    const data = await insertSignup(signup);\n    res.status(201).json({\n      response: data\n    });\n  } else if (req.method == \"GET\") {\n    const data = await getAllSignup();\n    res.status(201).json({\n      allSignup: data\n    });\n  } else {\n    res.status(200).json({\n      message: \"I only know GET & POST ¯_(ツ)_/¯\"\n    });\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["/Users/GK47LX/source/JSStudies/NextJS/eighth/pages/api/newsletter/index.js"],"names":["getAllSignup","insertSignup","handler","req","res","method","email","body","signup","dt","Date","toISOString","data","status","json","response","allSignup","message"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,YAAvB,QAA2C,2BAA3C;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAChC,MAAID,GAAG,CAACE,MAAJ,IAAc,MAAlB,EAA0B;AACzB,UAAMC,KAAK,GAAGH,GAAG,CAACI,IAAJ,CAASD,KAAvB;AAEA,UAAME,MAAM,GAAG;AACdC,MAAAA,EAAE,EAAE,IAAIC,IAAJ,GAAWC,WAAX,EADU;AAEdL,MAAAA,KAAK,EAAEA;AAFO,KAAf;AAKA,UAAMM,IAAI,GAAG,MAAMX,YAAY,CAACO,MAAD,CAA/B;AAEAJ,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACpBC,MAAAA,QAAQ,EAAEH;AADU,KAArB;AAGA,GAbD,MAaO,IAAIT,GAAG,CAACE,MAAJ,IAAc,KAAlB,EAAyB;AAC/B,UAAMO,IAAI,GAAG,MAAMZ,YAAY,EAA/B;AAEAI,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACpBE,MAAAA,SAAS,EAAEJ;AADS,KAArB;AAGA,GANM,MAMA;AACNR,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA,OAAO,EAAE;AAAX,KAArB;AACA;AACD;;AAED,eAAef,OAAf","sourcesContent":["import { getAllSignup, insertSignup } from \"../../../helpers/api-util\";\n\nasync function handler(req, res) {\n\tif (req.method == \"POST\") {\n\t\tconst email = req.body.email;\n\n\t\tconst signup = {\n\t\t\tdt: new Date().toISOString(),\n\t\t\temail: email,\n\t\t};\n\n\t\tconst data = await insertSignup(signup);\n\n\t\tres.status(201).json({\n\t\t\tresponse: data,\n\t\t});\n\t} else if (req.method == \"GET\") {\n\t\tconst data = await getAllSignup();\n\n\t\tres.status(201).json({\n\t\t\tallSignup: data,\n\t\t});\n\t} else {\n\t\tres.status(200).json({ message: \"I only know GET & POST ¯_(ツ)_/¯\" });\n\t}\n}\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}