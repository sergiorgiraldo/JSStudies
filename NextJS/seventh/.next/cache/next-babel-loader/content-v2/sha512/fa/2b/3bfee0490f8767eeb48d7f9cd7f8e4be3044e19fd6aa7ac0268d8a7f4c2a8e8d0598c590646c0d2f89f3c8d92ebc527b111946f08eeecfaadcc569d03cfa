{"ast":null,"code":"import fs from \"fs\";\nimport path from \"path\";\n\nfunction handler(req, res) {\n  if (req.method = \"POST\") {\n    const email = req.body.email;\n    const text = req.body.text;\n    const newFeedback = {\n      id: new Date().toISOString(),\n      email: email,\n      text: text\n    };\n    const filePath = path.join(process.cwd(), \"data\", \"feedback.json\");\n    const fileData = fs.readFileSync(filePath);\n    const data = JSON.parse(fileData);\n    data.push(newFeedback);\n    fs.writeFileSync(filePath, JSON.stringify(data));\n    res.status(201).json({\n      message: \"Success, data file updated\",\n      newFeedback: newFeedback\n    });\n  } else {\n    res.status(200).json({\n      message: \"This works!\"\n    });\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["/Users/GK47LX/source/JSStudies/NextJS/seventh/pages/api/feedback.js"],"names":["fs","path","handler","req","res","method","email","body","text","newFeedback","id","Date","toISOString","filePath","join","process","cwd","fileData","readFileSync","data","JSON","parse","push","writeFileSync","stringify","status","json","message"],"mappings":"AAAA,OAAOA,EAAP,MAAe,IAAf;AACA,OAAOC,IAAP,MAAiB,MAAjB;;AAEA,SAASC,OAAT,CAAiBC,GAAjB,EAAqBC,GAArB,EAAyB;AACrB,MAAID,GAAG,CAACE,MAAJ,GAAa,MAAjB,EAAwB;AACpB,UAAMC,KAAK,GAAGH,GAAG,CAACI,IAAJ,CAASD,KAAvB;AACA,UAAME,IAAI,GAAGL,GAAG,CAACI,IAAJ,CAASC,IAAtB;AAEA,UAAMC,WAAW,GAAG;AAChBC,MAAAA,EAAE,EAAE,IAAIC,IAAJ,GAAWC,WAAX,EADY;AAEhBN,MAAAA,KAAK,EAAEA,KAFS;AAGhBE,MAAAA,IAAI,EAAEA;AAHU,KAApB;AAMA,UAAMK,QAAQ,GAAGZ,IAAI,CAACa,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,MAAzB,EAAiC,eAAjC,CAAjB;AACA,UAAMC,QAAQ,GAAGjB,EAAE,CAACkB,YAAH,CAAgBL,QAAhB,CAAjB;AACA,UAAMM,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,QAAX,CAAb;AACAE,IAAAA,IAAI,CAACG,IAAL,CAAUb,WAAV;AACAT,IAAAA,EAAE,CAACuB,aAAH,CAAiBV,QAAjB,EAA2BO,IAAI,CAACI,SAAL,CAAeL,IAAf,CAA3B;AACAf,IAAAA,GAAG,CAACqB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC,4BAAT;AAAuClB,MAAAA,WAAW,EAAEA;AAApD,KAArB;AACH,GAhBD,MAiBI;AACAL,IAAAA,GAAG,CAACqB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAArB;AACH;AACJ;;AAED,eAAezB,OAAf","sourcesContent":["import fs from \"fs\";\nimport path from \"path\";\n\nfunction handler(req,res){\n    if (req.method = \"POST\"){\n        const email = req.body.email;\n        const text = req.body.text;\n\n        const newFeedback = {\n            id: new Date().toISOString(),\n            email: email,\n            text: text,\n        };\n\n        const filePath = path.join(process.cwd(), \"data\", \"feedback.json\");\n        const fileData = fs.readFileSync(filePath);\n        const data = JSON.parse(fileData);\n        data.push(newFeedback);\n        fs.writeFileSync(filePath, JSON.stringify(data));\n        res.status(201).json({message:\"Success, data file updated\", newFeedback: newFeedback});\n    }\n    else{\n        res.status(200).json({message: \"This works!\"});\n    }\n}\n\nexport default handler;"]},"metadata":{},"sourceType":"module"}